{"ast":null,"code":"var _jsxFileName = \"C:\\\\Leticia\\\\frontend2\\\\src\\\\pages\\\\paginaInicial.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './paginaInicial.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PaginaInicial() {\n  _s();\n  const navigate = useNavigate();\n  const [livros, setLivros] = useState([]);\n  const [filtro, setFiltro] = useState('');\n  const [filtros, setFiltros] = useState([]);\n  const [filtroSelecionado, setFiltroSelecionado] = useState('');\n  useEffect(() => {\n    fetch('http://localhost:5000/livros').then(response => response.json()).then(data => setLivros(data)).catch(error => console.error('Erro ao buscar livros:', error));\n  }, []);\n  useEffect(() => {\n    fetch('http://localhost:5000/filtros').then(response => response.json()).then(data => setFiltros(data)).catch(error => console.error('Erro ao buscar filtros:', error));\n  }, []);\n  const handleFiltroChange = event => {\n    setFiltro(event.target.value);\n  };\n  const handleFiltroSelecionado = filtro => {\n    setFiltroSelecionado(filtro);\n  };\n  const livrosFiltrados = livros.filter(livro => {\n    var _livro$titulo, _livro$categoria;\n    const titulo = ((_livro$titulo = livro.titulo) === null || _livro$titulo === void 0 ? void 0 : _livro$titulo.toLowerCase()) || '';\n    const categoria = ((_livro$categoria = livro.categoria) === null || _livro$categoria === void 0 ? void 0 : _livro$categoria.toLowerCase()) || '';\n    return titulo.includes(filtro.toLowerCase()) && (!filtroSelecionado || categoria === filtroSelecionado.toLowerCase());\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"pagina-inicial\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"topo\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Buscar por t\\xEDtulo\",\n        value: filtro,\n        onChange: handleFiltroChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/adicionar-produto'),\n        children: \"Postar Livro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/perfil'),\n        children: \"Perfil\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filtros\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setFiltroSelecionado(''),\n        children: \"Todos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), filtros.map((f, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleFiltroSelecionado(f),\n        children: f\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"livros\",\n      children: livrosFiltrados.length > 0 ? livrosFiltrados.map(livro => {\n        var _ref;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"livro\",\n          onClick: () => navigate(`/livros/${livro.id}`),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: livro.imagem || livro.imagem_url,\n            alt: livro.titulo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: livro.titulo || livro.nome\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Pre\\xE7o: R$ \", (_ref = livro.valor || livro.preco) === null || _ref === void 0 ? void 0 : _ref.toFixed(2)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this)]\n        }, livro.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this);\n      }) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Nenhum livro encontrado.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n_s(PaginaInicial, \"3eHCeb7f8wxOlCh6NEWYF2cBi1A=\", false, function () {\n  return [useNavigate];\n});\n_c = PaginaInicial;\nvar _c;\n$RefreshReg$(_c, \"PaginaInicial\");","map":{"version":3,"names":["React","useEffect","useState","useNavigate","jsxDEV","_jsxDEV","PaginaInicial","_s","navigate","livros","setLivros","filtro","setFiltro","filtros","setFiltros","filtroSelecionado","setFiltroSelecionado","fetch","then","response","json","data","catch","error","console","handleFiltroChange","event","target","value","handleFiltroSelecionado","livrosFiltrados","filter","livro","_livro$titulo","_livro$categoria","titulo","toLowerCase","categoria","includes","className","children","type","placeholder","onChange","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","f","index","length","_ref","id","src","imagem","imagem_url","alt","nome","valor","preco","toFixed","_c","$RefreshReg$"],"sources":["C:/Leticia/frontend2/src/pages/paginaInicial.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport './paginaInicial.css';\r\n\r\nexport default function PaginaInicial() {\r\n  const navigate = useNavigate();\r\n  const [livros, setLivros] = useState([]);\r\n  const [filtro, setFiltro] = useState('');\r\n  const [filtros, setFiltros] = useState([]);\r\n  const [filtroSelecionado, setFiltroSelecionado] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/livros')\r\n      .then(response => response.json())\r\n      .then(data => setLivros(data))\r\n      .catch(error => console.error('Erro ao buscar livros:', error));\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:5000/filtros')\r\n      .then(response => response.json())\r\n      .then(data => setFiltros(data))\r\n      .catch(error => console.error('Erro ao buscar filtros:', error));\r\n  }, []);\r\n\r\n  const handleFiltroChange = (event) => {\r\n    setFiltro(event.target.value);\r\n  };\r\n\r\n  const handleFiltroSelecionado = (filtro) => {\r\n    setFiltroSelecionado(filtro);\r\n  };\r\n\r\n  const livrosFiltrados = livros.filter(livro => {\r\n    const titulo = livro.titulo?.toLowerCase() || '';\r\n    const categoria = livro.categoria?.toLowerCase() || '';\r\n    return (\r\n      titulo.includes(filtro.toLowerCase()) &&\r\n      (!filtroSelecionado || categoria === filtroSelecionado.toLowerCase())\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"pagina-inicial\">\r\n      <div className=\"topo\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Buscar por título\"\r\n          value={filtro}\r\n          onChange={handleFiltroChange}\r\n        />\r\n        <button onClick={() => navigate('/adicionar-produto')}>Postar Livro</button>\r\n        <button onClick={() => navigate('/perfil')}>Perfil</button>\r\n      </div>\r\n\r\n      <div className=\"filtros\">\r\n        <button onClick={() => setFiltroSelecionado('')}>Todos</button>\r\n        {filtros.map((f, index) => (\r\n          <button key={index} onClick={() => handleFiltroSelecionado(f)}>\r\n            {f}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      <div className=\"livros\">\r\n        {livrosFiltrados.length > 0 ? (\r\n          livrosFiltrados.map((livro) => (\r\n            <div key={livro.id} className=\"livro\" onClick={() => navigate(`/livros/${livro.id}`)}>\r\n              <img src={livro.imagem || livro.imagem_url} alt={livro.titulo} />\r\n              <h3>{livro.titulo || livro.nome}</h3>\r\n              <p>Preço: R$ {(livro.valor || livro.preco)?.toFixed(2)}</p>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>Nenhum livro encontrado.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAO,qBAAqB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7B,eAAe,SAASC,aAAaA,CAAA,EAAG;EAAAC,EAAA;EACtC,MAAMC,QAAQ,GAAGL,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACM,MAAM,EAAEC,SAAS,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACS,MAAM,EAAEC,SAAS,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACa,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAE9DD,SAAS,CAAC,MAAM;IACdgB,KAAK,CAAC,8BAA8B,CAAC,CAClCC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAIX,SAAS,CAACW,IAAI,CAAC,CAAC,CAC7BC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC,CAAC;EACnE,CAAC,EAAE,EAAE,CAAC;EAENtB,SAAS,CAAC,MAAM;IACdgB,KAAK,CAAC,+BAA+B,CAAC,CACnCC,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,IAAIP,UAAU,CAACO,IAAI,CAAC,CAAC,CAC9BC,KAAK,CAACC,KAAK,IAAIC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC,CAAC;EACpE,CAAC,EAAE,EAAE,CAAC;EAEN,MAAME,kBAAkB,GAAIC,KAAK,IAAK;IACpCd,SAAS,CAACc,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC;EAC/B,CAAC;EAED,MAAMC,uBAAuB,GAAIlB,MAAM,IAAK;IAC1CK,oBAAoB,CAACL,MAAM,CAAC;EAC9B,CAAC;EAED,MAAMmB,eAAe,GAAGrB,MAAM,CAACsB,MAAM,CAACC,KAAK,IAAI;IAAA,IAAAC,aAAA,EAAAC,gBAAA;IAC7C,MAAMC,MAAM,GAAG,EAAAF,aAAA,GAAAD,KAAK,CAACG,MAAM,cAAAF,aAAA,uBAAZA,aAAA,CAAcG,WAAW,CAAC,CAAC,KAAI,EAAE;IAChD,MAAMC,SAAS,GAAG,EAAAH,gBAAA,GAAAF,KAAK,CAACK,SAAS,cAAAH,gBAAA,uBAAfA,gBAAA,CAAiBE,WAAW,CAAC,CAAC,KAAI,EAAE;IACtD,OACED,MAAM,CAACG,QAAQ,CAAC3B,MAAM,CAACyB,WAAW,CAAC,CAAC,CAAC,KACpC,CAACrB,iBAAiB,IAAIsB,SAAS,KAAKtB,iBAAiB,CAACqB,WAAW,CAAC,CAAC,CAAC;EAEzE,CAAC,CAAC;EAEF,oBACE/B,OAAA;IAAKkC,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC7BnC,OAAA;MAAKkC,SAAS,EAAC,MAAM;MAAAC,QAAA,gBACnBnC,OAAA;QACEoC,IAAI,EAAC,MAAM;QACXC,WAAW,EAAC,sBAAmB;QAC/Bd,KAAK,EAAEjB,MAAO;QACdgC,QAAQ,EAAElB;MAAmB;QAAAmB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9B,CAAC,eACF1C,OAAA;QAAQ2C,OAAO,EAAEA,CAAA,KAAMxC,QAAQ,CAAC,oBAAoB,CAAE;QAAAgC,QAAA,EAAC;MAAY;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC5E1C,OAAA;QAAQ2C,OAAO,EAAEA,CAAA,KAAMxC,QAAQ,CAAC,SAAS,CAAE;QAAAgC,QAAA,EAAC;MAAM;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxD,CAAC,eAEN1C,OAAA;MAAKkC,SAAS,EAAC,SAAS;MAAAC,QAAA,gBACtBnC,OAAA;QAAQ2C,OAAO,EAAEA,CAAA,KAAMhC,oBAAoB,CAAC,EAAE,CAAE;QAAAwB,QAAA,EAAC;MAAK;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,EAC9DlC,OAAO,CAACoC,GAAG,CAAC,CAACC,CAAC,EAAEC,KAAK,kBACpB9C,OAAA;QAAoB2C,OAAO,EAAEA,CAAA,KAAMnB,uBAAuB,CAACqB,CAAC,CAAE;QAAAV,QAAA,EAC3DU;MAAC,GADSC,KAAK;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAEV,CACT,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAEN1C,OAAA;MAAKkC,SAAS,EAAC,QAAQ;MAAAC,QAAA,EACpBV,eAAe,CAACsB,MAAM,GAAG,CAAC,GACzBtB,eAAe,CAACmB,GAAG,CAAEjB,KAAK;QAAA,IAAAqB,IAAA;QAAA,oBACxBhD,OAAA;UAAoBkC,SAAS,EAAC,OAAO;UAACS,OAAO,EAAEA,CAAA,KAAMxC,QAAQ,CAAC,WAAWwB,KAAK,CAACsB,EAAE,EAAE,CAAE;UAAAd,QAAA,gBACnFnC,OAAA;YAAKkD,GAAG,EAAEvB,KAAK,CAACwB,MAAM,IAAIxB,KAAK,CAACyB,UAAW;YAACC,GAAG,EAAE1B,KAAK,CAACG;UAAO;YAAAS,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE,CAAC,eACjE1C,OAAA;YAAAmC,QAAA,EAAKR,KAAK,CAACG,MAAM,IAAIH,KAAK,CAAC2B;UAAI;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACrC1C,OAAA;YAAAmC,QAAA,GAAG,eAAU,GAAAa,IAAA,GAAErB,KAAK,CAAC4B,KAAK,IAAI5B,KAAK,CAAC6B,KAAK,cAAAR,IAAA,uBAA3BA,IAAA,CAA8BS,OAAO,CAAC,CAAC,CAAC;UAAA;YAAAlB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC;QAAA,GAHnDf,KAAK,CAACsB,EAAE;UAAAV,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAIb,CAAC;MAAA,CACP,CAAC,gBAEF1C,OAAA;QAAAmC,QAAA,EAAG;MAAwB;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAC/B;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAACxC,EAAA,CA3EuBD,aAAa;EAAA,QAClBH,WAAW;AAAA;AAAA4D,EAAA,GADNzD,aAAa;AAAA,IAAAyD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}